---
layout: default
---

<div class="home">
  <div class="welcome-intro">
    <p>Harnessing the  art of software engineering.</p>
  </div>

  {{ content }}

  {%- if site.posts.size > 0 -%}
    <!-- Related Categories Section -->
    <div class="categories-section">
      <h2 class="categories-heading">Related categories</h2>
      <div class="categories-grid">
        {%- assign categories = site.posts | map: 'categories' | flatten | uniq | sort -%}
        {%- assign all_tags = site.posts | map: 'tags' | flatten | uniq | sort -%}
        {%- assign combined_categories = categories | concat: all_tags | uniq | sort -%}
        
        {%- for category in combined_categories -%}
          {%- if category != blank -%}
            {%- assign category_posts = '' | split: '' -%}
            {%- for post in site.posts -%}
              {%- assign has_category = false -%}
              {%- for cat in post.categories -%}
                {%- if cat == category -%}
                  {%- assign has_category = true -%}
                  {%- break -%}
                {%- endif -%}
              {%- endfor -%}
              {%- unless has_category -%}
                {%- for tag in post.tags -%}
                  {%- if tag == category -%}
                    {%- assign has_category = true -%}
                    {%- break -%}
                  {%- endif -%}
                {%- endfor -%}
              {%- endunless -%}
              {%- if has_category -%}
                {%- assign category_posts = category_posts | push: post -%}
              {%- endif -%}
            {%- endfor -%}
            {%- if category_posts.size > 0 -%}
              <a href="#category-{{ category | slugify }}" class="category-tag" data-category="{{ category | slugify }}">
                {{ category }}
              </a>
            {%- endif -%}
          {%- endif -%}
        {%- endfor -%}
      </div>
    </div>

    <h2 class="post-list-heading">All posts</h2>
    <ul class="post-list" id="post-list">
      {%- for post in site.posts -%}
      <li class="post-item" 
          data-categories="{%- for cat in post.categories -%}{{ cat | slugify }} {%- endfor -%}{%- for tag in post.tags -%}{{ tag | slugify }} {%- endfor -%}">
        <a class="post-link" href="{{ post.url | relative_url }}">
          {{ post.title | escape }}
        </a>
        {%- if post.subtitle -%}
          <p class="post-subtitle">{{ post.subtitle | escape }}</p>
        {%- endif -%}
        {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
        <p class="post-meta">{{ post.date | date: date_format }}</p>
        {%- if post.excerpt -%}
          <p class="post-excerpt">{{ post.excerpt | strip_html | truncate: 120 }}</p>
        {%- endif -%}
      </li>
      {%- endfor -%}
    </ul>
  {%- endif -%}
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const categoryTags = document.querySelectorAll('.category-tag');
  const postItems = document.querySelectorAll('.post-item');
  
  categoryTags.forEach(tag => {
    tag.addEventListener('click', function(e) {
      e.preventDefault();
      
      const category = this.getAttribute('data-category');
      
      // Remove active class from all tags
      categoryTags.forEach(t => t.classList.remove('active'));
      
      // Add active class to clicked tag
      this.classList.add('active');
      
      // Filter posts
      postItems.forEach(post => {
        const postCategories = post.getAttribute('data-categories');
        if (postCategories.includes(category)) {
          post.style.display = 'block';
        } else {
          post.style.display = 'none';
        }
      });
      
      // Update heading
      const heading = document.querySelector('.post-list-heading');
      if (category === 'all') {
        heading.textContent = 'Latest posts';
      } else {
        heading.textContent = `Posts about ${this.textContent}`;
      }
    });
  });
  
  // Add "All" category
  const categoriesGrid = document.querySelector('.categories-grid');
  const allTag = document.createElement('a');
  allTag.href = '#all';
  allTag.className = 'category-tag active';
  allTag.setAttribute('data-category', 'all');
  allTag.textContent = 'All';
  categoriesGrid.insertBefore(allTag, categoriesGrid.firstChild);
  
  // Handle "All" click
  allTag.addEventListener('click', function(e) {
    e.preventDefault();
    
    // Remove active class from all tags
    categoryTags.forEach(t => t.classList.remove('active'));
    
    // Add active class to "All" tag
    this.classList.add('active');
    
    // Show all posts
    postItems.forEach(post => {
      post.style.display = 'block';
    });
    
    // Update heading
    const heading = document.querySelector('.post-list-heading');
    heading.textContent = 'Latest posts';
  });
});
</script>
